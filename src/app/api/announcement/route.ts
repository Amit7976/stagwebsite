import connect3 from "@/dbConfig/dbConfig3";
import { getAnnouncementModel } from "@/models/AnnouncementModel";
import { NextResponse } from "next/server";

//////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////

const conn = await connect3();
const AnnouncementModel = getAnnouncementModel(conn);

//////////////////////////////////////////////////////////////////////////////////////////////////////////////

await connect3();

export async function GET() {
  const data = await AnnouncementModel.find({ active: true }).sort({
    createdAt: -1,
  });
  return NextResponse.json({ success: true, data: data });
}
